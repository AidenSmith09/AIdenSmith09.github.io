<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">






















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">

<link rel="stylesheet" href="/css/main.css?v=7.1.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.2">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.2" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="DNSsina.com 域名www.sina.com 称之为FQDN(fully qualified domain)正向解析：将主机名解析为另一个主机名，或将域名解析为IPA 主机记录、C name 别名记录、NS 域名服务器地址、MX 邮件交换记录反向解析：IP地址到域名的解析ptr根域服务器，只记录根域。com域只记录com域。sina.com域只记录自己的域。分层记录，各司其职。递归查询，根">
<meta name="keywords" content="渗透测试">
<meta property="og:type" content="article">
<meta property="og:title" content="被动信息收集">
<meta property="og:url" content="http://yoursite.com/2019/10/22/被动信息收集/index.html">
<meta property="og:site_name" content="Aiden的小黑屋">
<meta property="og:description" content="DNSsina.com 域名www.sina.com 称之为FQDN(fully qualified domain)正向解析：将主机名解析为另一个主机名，或将域名解析为IPA 主机记录、C name 别名记录、NS 域名服务器地址、MX 邮件交换记录反向解析：IP地址到域名的解析ptr根域服务器，只记录根域。com域只记录com域。sina.com域只记录自己的域。分层记录，各司其职。递归查询，根">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-11-09T06:04:15.696Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="被动信息收集">
<meta name="twitter:description" content="DNSsina.com 域名www.sina.com 称之为FQDN(fully qualified domain)正向解析：将主机名解析为另一个主机名，或将域名解析为IPA 主机记录、C name 别名记录、NS 域名服务器地址、MX 邮件交换记录反向解析：IP地址到域名的解析ptr根域服务器，只记录根域。com域只记录com域。sina.com域只记录自己的域。分层记录，各司其职。递归查询，根">





  
  
  <link rel="canonical" href="http://yoursite.com/2019/10/22/被动信息收集/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>被动信息收集 | Aiden的小黑屋</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Aiden的小黑屋</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/22/被动信息收集/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Aiden">
      <meta itemprop="description" content="一只安全狗的苦逼日常">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Aiden的小黑屋">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">被动信息收集

              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-10-22 21:26:19" itemprop="dateCreated datePublished" datetime="2019-10-22T21:26:19+08:00">2019-10-22</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-11-09 14:04:15" itemprop="dateModified" datetime="2019-11-09T14:04:15+08:00">2019-11-09</time>
              </span>
            
          

          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h2><p>sina.com 域名<br><a href="http://www.sina.com" target="_blank" rel="noopener">www.sina.com</a> 称之为FQDN(fully qualified domain)<br>正向解析：将主机名解析为另一个主机名，或将域名解析为IP<br>A 主机记录、C name 别名记录、NS 域名服务器地址、MX 邮件交换记录<br>反向解析：IP地址到域名的解析ptr<br>根域服务器，只记录根域。com域只记录com域。sina.com域只记录自己的域。<br>分层记录，各司其职。<br>递归查询，根域查找，根域没有。com服务器查询，com服务器没有，example.com服务器查询。<br>并不是每次都如此，本地DNS服务器会进行缓存。先查缓存，再去请求。<br>全球域名服务器更新周期大致为48小时一次。</p>
<h3 id="nslookup-命令"><a href="#nslookup-命令" class="headerlink" title="nslookup 命令"></a>nslookup 命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ nslookup</span><br><span class="line">&gt; www.sina.com</span><br><span class="line">Server:     119.29.29.29        //本地DNS服务器</span><br><span class="line">Address:    119.29.29.29#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">www.sina.com    canonical name = us.sina.com.cn.       //C name记录</span><br><span class="line">us.sina.com.cn  canonical name = wwwus.sina.com.       //C name记录</span><br><span class="line">Name:   wwwus.sina.com</span><br><span class="line">Address: 66.102.251.33</span><br></pre></td></tr></table></figure>

<h4 id="邮件记录解析"><a href="#邮件记录解析" class="headerlink" title="邮件记录解析"></a>邮件记录解析</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">$ nslookup  查询MX记录</span><br><span class="line">&gt; set type=mx           //查询邮箱记录</span><br><span class="line">&gt; 163.com</span><br><span class="line">Server:     119.29.29.29</span><br><span class="line">Address:    119.29.29.29#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">163.com mail exchanger = 10 163mx03.mxmail.netease.com.</span><br><span class="line">163.com mail exchanger = 10 163mx01.mxmail.netease.com.</span><br><span class="line">163.com mail exchanger = 10 163mx02.mxmail.netease.com.</span><br><span class="line">163.com mail exchanger = 50 163mx00.mxmail.netease.com.</span><br><span class="line"></span><br><span class="line">Authoritative answers can be found from:</span><br><span class="line">&gt;</span><br><span class="line">&gt; set type=a</span><br><span class="line">&gt; 163mx03.mxmail.netease.com</span><br><span class="line">Server:     119.29.29.29</span><br><span class="line">Address:    119.29.29.29#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">Name:   163mx03.mxmail.netease.com</span><br><span class="line">Address: 220.181.14.162</span><br><span class="line">Name:   163mx03.mxmail.netease.com</span><br><span class="line">Address: 220.181.14.159</span><br><span class="line">Name:   163mx03.mxmail.netease.com</span><br><span class="line">Address: 220.181.14.156</span><br><span class="line">Name:   163mx03.mxmail.netease.com</span><br><span class="line">Address: 220.181.14.161</span><br><span class="line">Name:   163mx03.mxmail.netease.com</span><br><span class="line">Address: 220.181.14.158</span><br><span class="line">Name:   163mx03.mxmail.netease.com</span><br><span class="line">Address: 220.181.14.163</span><br><span class="line">Name:   163mx03.mxmail.netease.com</span><br><span class="line">Address: 220.181.14.160</span><br><span class="line">Name:   163mx03.mxmail.netease.com</span><br><span class="line">Address: 220.181.14.157</span><br><span class="line">Name:   163mx03.mxmail.netease.com</span><br><span class="line">Address: 220.181.14.164</span><br></pre></td></tr></table></figure>

<h4 id="NS记录查询"><a href="#NS记录查询" class="headerlink" title="NS记录查询"></a>NS记录查询</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">$ nslookup</span><br><span class="line">&gt; set type=ns</span><br><span class="line">&gt; sina.com</span><br><span class="line">Server:     119.29.29.29</span><br><span class="line">Address:    119.29.29.29#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">sina.com    nameserver = ns3.sina.com.</span><br><span class="line">sina.com    nameserver = ns4.sina.com.</span><br><span class="line">sina.com    nameserver = ns2.sina.com.</span><br><span class="line">sina.com    nameserver = ns3.sina.com.cn.</span><br><span class="line">sina.com    nameserver = ns4.sina.com.cn.</span><br><span class="line">sina.com    nameserver = ns1.sina.com.cn.</span><br><span class="line">sina.com    nameserver = ns1.sina.com.</span><br><span class="line">sina.com    nameserver = ns2.sina.com.cn.</span><br><span class="line"></span><br><span class="line">Authoritative answers can be found from:</span><br><span class="line">&gt; set type=a        //type与q作用相同</span><br><span class="line">&gt; ns3.sina.com</span><br><span class="line">Server:     119.29.29.29</span><br><span class="line">Address:    119.29.29.29#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">Name:   ns3.sina.com</span><br><span class="line">Address: 61.172.201.254</span><br><span class="line">&gt; ns4.sina.com</span><br><span class="line">Server:     119.29.29.29</span><br><span class="line">Address:    119.29.29.29#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">Name:   ns4.sina.com</span><br><span class="line">Address: 123.125.29.99</span><br></pre></td></tr></table></figure>

<h4 id="PTR反向解析"><a href="#PTR反向解析" class="headerlink" title="PTR反向解析"></a>PTR反向解析</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&gt; set q=ptr                 //type与q作用相同</span><br><span class="line">&gt; 220.181.14.162</span><br><span class="line">Server:     119.29.29.29</span><br><span class="line">Address:    119.29.29.29#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">162.14.181.220.in-addr.arpa name = m14-162.188.com.</span><br><span class="line"></span><br><span class="line">Authoritative answers can be found from:</span><br><span class="line">&gt; set q=a</span><br><span class="line">&gt; m14-162.188.com</span><br><span class="line">Server:     119.29.29.29</span><br><span class="line">Address:    119.29.29.29#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">Name:   m14-162.188.com</span><br><span class="line">Address: 220.181.14.162</span><br></pre></td></tr></table></figure>

<h4 id="指定DNS服务器"><a href="#指定DNS服务器" class="headerlink" title="指定DNS服务器"></a>指定DNS服务器</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&gt; server 202.106.0.20   //指定DNS Server</span><br><span class="line">Default server: 202.106.0.20</span><br><span class="line">Address: 202.106.0.20#53</span><br><span class="line"></span><br><span class="line">&gt; www.sina.com</span><br><span class="line">Server:     202.106.0.20</span><br><span class="line">Address:    202.106.0.20#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">www.sina.com    canonical name = us.sina.com.cn.</span><br><span class="line">us.sina.com.cn  canonical name = spool.grid.sinaedge.com.</span><br><span class="line">Name:   spool.grid.sinaedge.com</span><br><span class="line">Address: 123.126.157.222    //可以看到两次解析不通</span><br><span class="line"></span><br><span class="line">&gt; server 8.8.8.8</span><br><span class="line">Default server: 8.8.8.8</span><br><span class="line">Address: 8.8.8.8#53</span><br><span class="line">&gt; www.sina.com</span><br><span class="line">Server:     8.8.8.8</span><br><span class="line">Address:    8.8.8.8#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">www.sina.com    canonical name = us.sina.com.cn.</span><br><span class="line">us.sina.com.cn  canonical name = wwwus.sina.com.</span><br><span class="line">Name:   wwwus.sina.com</span><br><span class="line">Address:66.102.251.33       //可以看到两次解析不同</span><br><span class="line">此为智能DNS，不同地区解析地址不同。为了优化访问速度，同时减少骨干网络的带宽。</span><br><span class="line">查询全部记录</span><br></pre></td></tr></table></figure>

<h4 id="反向查询"><a href="#反向查询" class="headerlink" title="反向查询"></a>反向查询</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">$ nslookup</span><br><span class="line">&gt; set q=any             //type与q作用相同</span><br><span class="line">&gt; 163.com</span><br><span class="line">Server:     182.254.116.116</span><br><span class="line">Address:    182.254.116.116#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">163.com</span><br><span class="line">    origin = ns4.nease.net</span><br><span class="line">    mail addr = admin.nease.net</span><br><span class="line">    serial = 20160994</span><br><span class="line">    refresh = 7200</span><br><span class="line">    retry = 1800</span><br><span class="line">    expire = 1209600</span><br><span class="line">    minimum = 60</span><br><span class="line">Name:   163.com</span><br><span class="line">Address: 123.58.180.7</span><br><span class="line">Name:   163.com</span><br><span class="line">Address: 123.58.180.8</span><br><span class="line">163.com nameserver = ns3.nease.net.</span><br><span class="line">163.com nameserver = ns4.nease.net.</span><br><span class="line">163.com nameserver = ns1.nease.net.</span><br><span class="line">163.com nameserver = ns2.166.com.</span><br><span class="line">163.com nameserver = ns8.166.com.</span><br><span class="line">163.com nameserver = ns5.nease.net.</span><br><span class="line">163.com nameserver = ns6.nease.net.</span><br><span class="line">163.com mail exchanger = 10 163mx03.mxmail.netease.com.</span><br><span class="line">163.com mail exchanger = 10 163mx01.mxmail.netease.com.</span><br><span class="line">163.com mail exchanger = 10 163mx02.mxmail.netease.com.</span><br><span class="line">163.com mail exchanger = 50 163mx00.mxmail.netease.com.</span><br><span class="line">163.com text = &quot;v=spf1 include:spf.163.com -all&quot;    //反向查询，文本域名，反垃圾邮件。如根据IP反查域名，与文本域中内容进行匹配。匹配成功则认为正常邮件。匹配失败，则认为垃圾邮寄。</span><br><span class="line"></span><br><span class="line">Authoritative answers can be found from:</span><br><span class="line">&gt;</span><br><span class="line">nslookup -q=any 163.com [域名服务器] 域名服务器可进行指定。不指定则走本机DNS指定DNS服务器。</span><br></pre></td></tr></table></figure>

<h3 id="DIG命令"><a href="#DIG命令" class="headerlink" title="DIG命令"></a>DIG命令</h3><p><strong>Dig强于nslookup</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$ dig sina.com any @8.8.8.8     #@指定DNS服务器</span><br><span class="line"></span><br><span class="line">; &lt;&lt;&gt;&gt; DiG 9.9.7-P3 &lt;&lt;&gt;&gt; sina.com any @8.8.8.8</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 36154</span><br><span class="line">;; flags: qr rd ra; QUERY: 1, ANSWER: 14, AUTHORITY: 0, ADDITIONAL: 1</span><br><span class="line"></span><br><span class="line">;; OPT PSEUDOSECTION:</span><br><span class="line">; EDNS: version: 0, flags:; udp: 512</span><br><span class="line">;; QUESTION SECTION:</span><br><span class="line">;sina.com.          IN  ANY</span><br><span class="line"></span><br><span class="line">;; ANSWER SECTION:</span><br><span class="line">sina.com.       59  IN  A   66.102.251.33</span><br><span class="line">sina.com.       59  IN  TXT &quot;v=spf1 include:spf.sinamail.sina.com.cn -all&quot;</span><br><span class="line">sina.com.       299 IN  SOA ns1.sina.com.cn. zhihao.staff.sina.com.cn. 2005042601 900 300 604800 300</span><br><span class="line">sina.com.       21599   IN  NS  ns1.sina.com.</span><br><span class="line">sina.com.       21599   IN  NS  ns3.sina.com.</span><br><span class="line">sina.com.       21599   IN  NS  ns3.sina.com.cn.</span><br><span class="line">sina.com.       21599   IN  NS  ns4.sina.com.</span><br><span class="line">sina.com.       21599   IN  NS  ns4.sina.com.cn.</span><br><span class="line">sina.com.       21599   IN  NS  ns2.sina.com.cn.</span><br><span class="line">sina.com.       21599   IN  NS  ns2.sina.com.</span><br><span class="line">sina.com.       21599   IN  NS  ns1.sina.com.cn.</span><br><span class="line">sina.com.       59  IN  MX  10 freemx2.sinamail.sina.com.cn.</span><br><span class="line">sina.com.       59  IN  MX  10 freemx3.sinamail.sina.com.cn.</span><br><span class="line">sina.com.       59  IN  MX  5 freemx1.sinamail.sina.com.cn.</span><br><span class="line"></span><br><span class="line">;; Query time: 109 msec</span><br><span class="line">;; SERVER: 8.8.8.8#53(8.8.8.8)</span><br><span class="line">;; WHEN: Sat Jan 13 17:37:22 CST 2018</span><br><span class="line">;; MSG SIZE  rcvd: 395</span><br></pre></td></tr></table></figure>

<p>可以看到地域对域名的影响，两次查出的内容其实是不同的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">$ dig sina.com any @202.106.0.20</span><br><span class="line"></span><br><span class="line">; &lt;&lt;&gt;&gt; DiG 9.9.7-P3 &lt;&lt;&gt;&gt; sina.com any @202.106.0.20</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 50192</span><br><span class="line">;; flags: qr rd ra; QUERY: 1, ANSWER: 9, AUTHORITY: 8, ADDITIONAL: 9</span><br><span class="line"></span><br><span class="line">;; OPT PSEUDOSECTION:</span><br><span class="line">; EDNS: version: 0, flags:; udp: 4096</span><br><span class="line">;; QUESTION SECTION:</span><br><span class="line">;sina.com.          IN  ANY</span><br><span class="line"></span><br><span class="line">;; ANSWER SECTION:</span><br><span class="line">sina.com.       22  IN  A   66.102.251.33</span><br><span class="line">sina.com.       40883   IN  NS  ns2.sina.com.cn.</span><br><span class="line">sina.com.       40883   IN  NS  ns1.sina.com.cn.</span><br><span class="line">sina.com.       40883   IN  NS  ns2.sina.com.</span><br><span class="line">sina.com.       40883   IN  NS  ns1.sina.com.</span><br><span class="line">sina.com.       40883   IN  NS  ns4.sina.com.</span><br><span class="line">sina.com.       40883   IN  NS  ns3.sina.com.</span><br><span class="line">sina.com.       40883   IN  NS  ns4.sina.com.cn.</span><br><span class="line">sina.com.       40883   IN  NS  ns3.sina.com.cn.</span><br><span class="line"></span><br><span class="line">;; AUTHORITY SECTION:</span><br><span class="line">sina.com.       40883   IN  NS  ns2.sina.com.</span><br><span class="line">sina.com.       40883   IN  NS  ns1.sina.com.</span><br><span class="line">sina.com.       40883   IN  NS  ns3.sina.com.</span><br><span class="line">sina.com.       40883   IN  NS  ns2.sina.com.cn.</span><br><span class="line">sina.com.       40883   IN  NS  ns1.sina.com.cn.</span><br><span class="line">sina.com.       40883   IN  NS  ns4.sina.com.</span><br><span class="line">sina.com.       40883   IN  NS  ns4.sina.com.cn.</span><br><span class="line">sina.com.       40883   IN  NS  ns3.sina.com.cn.</span><br><span class="line"></span><br><span class="line">;; ADDITIONAL SECTION:</span><br><span class="line">ns1.sina.com.       42055   IN  A   114.134.80.144</span><br><span class="line">ns1.sina.com.cn.    40873   IN  A   202.106.184.166</span><br><span class="line">ns2.sina.com.       42055   IN  A   114.134.80.145</span><br><span class="line">ns2.sina.com.cn.    40873   IN  A   61.172.201.254</span><br><span class="line">ns3.sina.com.       41266   IN  A   61.172.201.254</span><br><span class="line">ns3.sina.com.cn.    40873   IN  A   123.125.29.99</span><br><span class="line">ns4.sina.com.       41192   IN  A   123.125.29.99</span><br><span class="line">ns4.sina.com.cn.    40873   IN  A   121.14.1.22</span><br><span class="line"></span><br><span class="line">;; Query time: 56 msec</span><br><span class="line">;; SERVER: 202.106.0.20#53(202.106.0.20)</span><br><span class="line">;; WHEN: Sat Jan 13 17:38:52 CST 2018</span><br><span class="line">;; MSG SIZE  rcvd: 448</span><br></pre></td></tr></table></figure>

<p>Dig 命令参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ dig mail.163.com any</span><br><span class="line">;; Question section mismatch: got ./ANY/IN</span><br><span class="line">;; Question section mismatch: got usgs.gov/ANY/IN</span><br><span class="line"></span><br><span class="line">; &lt;&lt;&gt;&gt; DiG 9.9.7-P3 &lt;&lt;&gt;&gt; mail.163.com any</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 8037</span><br><span class="line">;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0</span><br><span class="line"></span><br><span class="line">;; QUESTION SECTION:</span><br><span class="line">;mail.163.com.          IN  ANY</span><br><span class="line"></span><br><span class="line">;; ANSWER SECTION:</span><br><span class="line">mail.163.com.       16  IN  CNAME   mail163.ntes53.netease.com.</span><br><span class="line"></span><br><span class="line">;; Query time: 32 msec</span><br><span class="line">;; SERVER: 114.114.114.114#53(114.114.114.114)</span><br><span class="line">;; WHEN: Sat Jan 13 17:40:30 CST 2018</span><br><span class="line">;; MSG SIZE  rcvd: 67</span><br></pre></td></tr></table></figure>

<p>利用管道仅显示结果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dig +noall +answer mail.163.com any //+noall 均不显示</span><br><span class="line">dig +noall +answer mail.163.com any | awk &apos;&#123;print $5&#125;&apos;</span><br><span class="line">dig -x 220.181.14.150 //反向查询</span><br></pre></td></tr></table></figure>

<p>利用dig来查询 bind 版本。</p>
<p>对一个目标DNS记录最完美的结果，全部查出。</p>
<p>再将FQDN域名一一对应IP地址</p>
<p>发现Bind版本后，可针对版本漏洞来进行拖库，最终获取所有DNS记录。</p>
<p><code>dig +noall +answer txt chaos VERSION.BIND @ns3.dnsv4.com</code><br>获取版本后，去官方匹配是否最新，不是最新结果。则查询版本更新信息。</p>
<h3 id="DNS追踪"><a href="#DNS追踪" class="headerlink" title="DNS追踪:"></a>DNS追踪:</h3><p>Dig追踪可发现是否被劫持,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">$ dig +trace www.sina.com</span><br><span class="line"></span><br><span class="line">; &lt;&lt;&gt;&gt; DiG 9.9.7-P3 &lt;&lt;&gt;&gt; +trace www.sina.com</span><br><span class="line">;; global options: +cmd</span><br><span class="line">.           339170  IN  NS  c.root-servers.net.</span><br><span class="line">.           339170  IN  NS  l.root-servers.net.</span><br><span class="line">.           339170  IN  NS  a.root-servers.net.</span><br><span class="line">.           339170  IN  NS  m.root-servers.net.</span><br><span class="line">.           339170  IN  NS  b.root-servers.net.</span><br><span class="line">.           339170  IN  NS  i.root-servers.net.</span><br><span class="line">.           339170  IN  NS  j.root-servers.net.</span><br><span class="line">.           339170  IN  NS  f.root-servers.net.</span><br><span class="line">.           339170  IN  NS  k.root-servers.net.</span><br><span class="line">.           339170  IN  NS  e.root-servers.net.</span><br><span class="line">.           339170  IN  NS  d.root-servers.net.</span><br><span class="line">.           339170  IN  NS  g.root-servers.net.</span><br><span class="line">.           339170  IN  NS  h.root-servers.net.</span><br><span class="line">;; Received 239 bytes from 119.29.29.29#53(119.29.29.29) in 58 ms</span><br><span class="line"></span><br><span class="line">com.            172800  IN  NS  a.gtld-servers.net.</span><br><span class="line">com.            172800  IN  NS  b.gtld-servers.net.</span><br><span class="line">com.            172800  IN  NS  c.gtld-servers.net.</span><br><span class="line">com.            172800  IN  NS  d.gtld-servers.net.</span><br><span class="line">com.            172800  IN  NS  e.gtld-servers.net.</span><br><span class="line">com.            172800  IN  NS  f.gtld-servers.net.</span><br><span class="line">com.            172800  IN  NS  g.gtld-servers.net.</span><br><span class="line">com.            172800  IN  NS  h.gtld-servers.net.</span><br><span class="line">com.            172800  IN  NS  i.gtld-servers.net.</span><br><span class="line">com.            172800  IN  NS  j.gtld-servers.net.</span><br><span class="line">com.            172800  IN  NS  k.gtld-servers.net.</span><br><span class="line">com.            172800  IN  NS  l.gtld-servers.net.</span><br><span class="line">com.            172800  IN  NS  m.gtld-servers.net.</span><br><span class="line">com.            86400   IN  DS  30909 8 2 E2D3C916F6DEEAC73294E8268FB5885044A833FC5459588F4A9184CF C41A5766</span><br><span class="line">com.            86400   IN  RRSIG   DS 8 1 86400 20180126050000 20180113040000 41824 . Mo7lljVYU/8DBPsoNJJ4p6yq07KKFo2AV8SiPpSPTXx+yrAhnxFaXezf 7B5pUKqm1l5apa27D7r2WD/LY/LY6UxqUkRFYw4siE1u31mWQLp 81HmxHTvbcYnJLyi58Z0zXmn+QOCfffu8IgTViiBeCyPnFQ9+5YF3+VB nOB45np+leqeAS4GR4rlXN2mfM0o2519Vp3cVrFDavKvOZLauA2XVVF7 6zW0nEz9NFFHuK9tBUIhqpERLZqD8z0j2Eqj369RmkmqXQfOIpeGpTGj PC/Ug2vzvJrNij6K4ViJ5pL2XsjGdfbEyjm6HsI12uKxMgQ0LsBLcIdf oryvJA==</span><br><span class="line">;; Received 1172 bytes from 193.0.14.129#53(k.root-servers.net) in 308 ms</span><br><span class="line"></span><br><span class="line">sina.com.       172800  IN  NS  ns1.sina.com.cn.</span><br><span class="line">sina.com.       172800  IN  NS  ns2.sina.com.cn.</span><br><span class="line">sina.com.       172800  IN  NS  ns3.sina.com.cn.</span><br><span class="line">sina.com.       172800  IN  NS  ns1.sina.com.</span><br><span class="line">sina.com.       172800  IN  NS  ns2.sina.com.</span><br><span class="line">sina.com.       172800  IN  NS  ns4.sina.com.</span><br><span class="line">sina.com.       172800  IN  NS  ns3.sina.com.</span><br><span class="line">CK0POJMG874LJREF7EFN8430QVIT8BSM.com. 86400 IN NSEC3 1 1 0 - CK0Q1GIN43N1ARRC9OSM6QPQR81H5M9A NS SOA RRSIG DNSKEY NSEC3PARAM</span><br><span class="line">CK0POJMG874LJREF7EFN8430QVIT8BSM.com. 86400 IN RRSIG NSEC3 8 2 86400 20180120054927 20180113043927 11324 com. h/fI0XLGpWb3brezE+emz/FlM81CS1SdpzJjmipL2cZG0YqjDJdhlarg 87u8aDyMDnSl472dOkFbIOnjYExfct9MHhPF26aEGDlQ4/jqNQVJJswW VRc3R9atDLSUkMNPSAVbmASP0qtcMNRx3/V8uR+kWO01nzkxCbK4Rx68 fsw=</span><br><span class="line">TGAFVRK18C1EQNPDR7K209HSQCEKG568.com. 86400 IN NSEC3 1 1 0 - TGAIRTCVTGTP7ROGE19TF24AOUKSPT4J NS DS RRSIG</span><br><span class="line">TGAFVRK18C1EQNPDR7K209HSQCEKG568.com. 86400 IN RRSIG NSEC3 8 2 86400 20180118061258 20180111050258 11324 com. oO3/ZCM1RAX1fRj7nX5wJicGuZwO1sokKHNuXMtFF4VgIs+eEo6q/9xq dwGY4jgl79fxpcK4ExNX+u7ojxhguM2KdXEqHUdCzk8PDu/rvbJic2bh NWD79nBCWyfnwq81C0AoHME+4LTy1Z0VDujIOqRWNg2hx+t31F7Lo9QJ nYs=</span><br><span class="line">;; Received 727 bytes from 192.48.79.30#53(j.gtld-servers.net) in 579 ms</span><br><span class="line"></span><br><span class="line">www.sina.com.       60  IN  CNAME   us.sina.com.cn.</span><br><span class="line">us.sina.com.cn.     60  IN  CNAME   spool.grid.sinaedge.com.</span><br><span class="line">;; Received 103 bytes from 114.134.80.145#53(ns2.sina.com) in 151 ms</span><br></pre></td></tr></table></figure>

<h2 id="DNS区域传输"><a href="#DNS区域传输" class="headerlink" title="DNS区域传输"></a>DNS区域传输</h2><p>可以知道某一个域中的所有记录。区域传输仅发生在本域的服务器中<br><code>dig @ns1.example.com example.com axfr</code>差异化记录传输</p>
<p>第一种方式利用dig</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ dig @ns1.sina.com sina.com axfr</span><br><span class="line">;; communications error to 114.134.80.144#53: connection reset</span><br></pre></td></tr></table></figure>

<p>第二种方式利用host</p>
<p><code>host -T -l example.com [NS记录]</code><br>//-T使用TCP的方式，-l列出所有记录<br>目标服务器不允许时，如dig返回的结果。则可以尝试DNS字典爆破的方式进行。</p>
<h2 id="DNS字典爆破"><a href="#DNS字典爆破" class="headerlink" title="DNS字典爆破"></a>DNS字典爆破</h2><p>字典可以进行缓慢积累，集成成自己的一个专有字典。</p>
<h3 id="fierce-工具-DNS爆破工具"><a href="#fierce-工具-DNS爆破工具" class="headerlink" title="fierce 工具 - DNS爆破工具"></a>fierce 工具 - DNS爆破工具</h3><p><code>fierce -dnsserver 8.8.8.8 -dns sina.com.cn -wordlist a.txt</code> 不知道字典位置，可以使用fierce自带的字典文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">dplg -L fierce查询软件安装路径。找到符合特征的目录。使用即可。</span><br><span class="line">-dnsserver 选项为指定DNS服务器。</span><br><span class="line">dnsdict6 --特点速度快命中率高</span><br><span class="line">dnsdict6 -d4 -t 16 -x sina.com</span><br><span class="line">-d 显示IPv6域信息等，-d4即为IPv4</span><br><span class="line">-t 指定并发线程数，默认为8，最大32</span><br><span class="line">-s 执行SRV域中服务资源记录</span><br><span class="line">-m、-l、-x、-u，为小字典、中字典、大字典、超大字典</span><br><span class="line"></span><br><span class="line">dmsenum</span><br><span class="line">dnsenum -f dnsbig.txt -dnsserver 8.8.8.8 sina.com -o sina.xml</span><br><span class="line">-f 指定爆破字典</span><br><span class="line">-dnsserver 选择DNS服务 后跟域名</span><br><span class="line">-o 输出为.xml</span><br><span class="line">dnsmap</span><br><span class="line">dnsmap sina.com -w dns.txt</span><br><span class="line">-w 指定字典</span><br></pre></td></tr></table></figure>

<h3 id="dnsrecon-DNS爆破工具"><a href="#dnsrecon-DNS爆破工具" class="headerlink" title="dnsrecon  - DNS爆破工具"></a>dnsrecon  - DNS爆破工具</h3><p><code>dnsrecon -d sina.com --lifetime 10 -t brt -D dnsbig.txt</code><br><code>--lifetime</code> 超时时间.不是什么命令都有超时时间设置。<br><code>-t</code>查询强度,<br><code>brt</code>爆破,<br><code>std</code>标准模式,<br><code>-D</code>爆破文件选择,<br><code>dnsrecon -t std -d sina.com</code></p>
<h3 id="DNS注册信息"><a href="#DNS注册信息" class="headerlink" title="DNS注册信息"></a>DNS注册信息</h3><h4 id="whois-命令"><a href="#whois-命令" class="headerlink" title="whois 命令"></a>whois 命令</h4><p>不同地区有不同地区的<code>whoiis</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">AFRINIC  HTTP://www.afrinic.net 非洲</span><br><span class="line">APNIC  HTTP://www.apnic.net 亚太</span><br><span class="line">ARIN  HTTP://ws.arin.net 国际</span><br><span class="line">IANA  HTTP://www.iana.com</span><br><span class="line">ICANN  HTTP://www.icann.org</span><br><span class="line">LACNIC  HTTP://www.lacnic.net</span><br><span class="line">NRO  HTTP://www.nro.net</span><br><span class="line">RIPE  HTTP://www.ripe.net</span><br><span class="line">InterNic  HTTP://www.internic.net</span><br><span class="line">kali自带whois命令，会查询多个whois服务器</span><br><span class="line">whois -h whois.apnic.net 192.0.43.10</span><br><span class="line">whois [IP] 可以显示出IP地址段，还有域名等信息。为whois反查。</span><br></pre></td></tr></table></figure>

<p>搜索引擎主要搜索内容</p>
<ul>
<li>公司新闻动态</li>
<li>重要雇员信息</li>
<li>机密信息 / 网络拓扑</li>
<li>用户名密码</li>
<li>目标系统软硬件技术架构</li>
</ul>
<h2 id="SHODAN"><a href="#SHODAN" class="headerlink" title="SHODAN"></a>SHODAN</h2><p>俗称撒旦搜索引擎<br>通过DNS搜索的子域名和主机名，然后解析成IP地址。即可拿着这些IP地址在撒旦中搜索。<br>或许会发现一些在公网开放的端口或IP地址。<br>若经过授权，已经的到公网的IP地址。可进shodan进行搜索。</p>
<ul>
<li>搜索联网的设备</li>
<li>Banner : http、FTP、ssh、telnet</li>
<li><a href="https://www.shodan.io/" target="_blank" rel="noopener">https://www.shodan.io/</a></li>
<li>常见filter：<ul>
<li>net（192.168.20.1）</li>
<li>city</li>
<li>country （CN、US）</li>
<li>port (80、21、22、23)</li>
<li>OS</li>
<li>hostname （主机或域名）</li>
<li>server</li>
</ul>
</li>
</ul>
<p>搜索参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">net:8.8.8.8 //针对IP进行搜索</span><br><span class="line">net:8.8.8.0/24 //针对网段进行搜索</span><br><span class="line">net:8.8.8.0/24 country:cn city：beijing //过滤出网段中仅中国，且北京市的IP地址</span><br><span class="line">country:cn city:beijing port:22 //过滤出中国、北京、且开放22端口的IP地址。</span><br><span class="line">country:cn city:beijing port:22 HTTP/1.1 200 //过滤出中国、北京、且开放22端口的IP地址。</span><br></pre></td></tr></table></figure>

<h2 id="Google-hack"><a href="#Google-hack" class="headerlink" title="Google hack"></a>Google hack</h2><h3 id="搜索语法"><a href="#搜索语法" class="headerlink" title="搜索语法"></a>搜索语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">+支付 -充值  //搜索含有支付，且不含充值的界面。可连续添加</span><br><span class="line">&quot;支付 充值&quot;          //包含双引号后，对语句搜索，含空格。</span><br><span class="line"></span><br><span class="line">intitle:[关键字]        //根据HTML tittle中的字段搜索</span><br><span class="line">intext:[关键字]         //根据正文进行关键字搜索，可设置多个intext</span><br><span class="line">site:[域名/国家简称/……]    //通过一级域名进行搜索结果显示</span><br><span class="line">inurl:[关键字]       //查询URL中存在的关键字</span><br><span class="line"></span><br><span class="line">[关键字] flietype:pdf //根据关键字，配合文件类型进行搜索。</span><br><span class="line">[关键字] site:cn/us/……     //搜索关键在，在某个国家</span><br></pre></td></tr></table></figure>

<p>例如：搜索阿里北京联系人。</p>
<p><code>北京 site:alibaba.com inurl:contact</code></p>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">inurl:”level/15/exec/-/show“ </span><br><span class="line">//思科15级账户，直接进入交换机Web界面进行命令操作。</span><br><span class="line">//属于直接暴露在公网上，被搜索引擎收录的设备。也有其他厂商模拟Cisco界面被收录。 </span><br><span class="line"></span><br><span class="line">intitle:“netbotz appliance” “ok”    </span><br><span class="line">//搜特定类型机架式网络摄像头，“ok”主要是搜索返回值的信息。APC公司摄像头。</span><br><span class="line">//所以根据intitle的关键字可以拓展出很多信息。如硬件、web界面等。</span><br><span class="line"></span><br><span class="line">inurl:/admin/login.php</span><br><span class="line">//搜索url中存在/admin/login.php的登陆界面。</span><br><span class="line">//可以再细化。如：xxx.com/login.php 所以思维尽量发散。此类型特征较强。</span><br><span class="line">//提问:是否支持通配符 xxx.com/*/login.php</span><br><span class="line"></span><br><span class="line">inurl:qq.txt</span><br><span class="line">//有些人回偷QQ密码，盗取后，会收录到某个域名下的qq.txt文件中。一般为黑产所为。所以有时服务器会被google爬取。</span><br><span class="line">//发散思维：其他类型的文件，会收录那些信息？名称.格式 能专注搜到什么东西？</span><br><span class="line"></span><br><span class="line">filetype:xls &quot;username | password“</span><br><span class="line">//文件类型为xls，文件中包含 username 与 password 关键字的文件。搜索后可下载。</span><br><span class="line">//根据文件类型，xml广泛运用在数据转换与传输中，可否针对目标进行详细的XML文件搜索？</span><br><span class="line"></span><br><span class="line">inurl:ftp &quot;password&quot; filetype:xls site:baidu.com</span><br><span class="line">//逻辑解释：在百度中搜索 url中含 FTP、Password、文件类型为xls的结果。</span><br><span class="line">//俗称组合拳。多命令进行精确搜索。有时候条件过于精准，是无结果的。</span><br><span class="line">//inurl:ftp filetype:xls,txt</span><br><span class="line"></span><br><span class="line">inurl:service.pwd</span><br><span class="line">//FrontPage的漏洞，可以直接搜到账号密码。</span><br></pre></td></tr></table></figure>


<h3 id="Google-Hacking-Database（GHDB）"><a href="#Google-Hacking-Database（GHDB）" class="headerlink" title="Google Hacking Database（GHDB）"></a>Google Hacking Database（GHDB）</h3><p><code>http://exploit-db.com/google-dorks</code><br>此网站可以为google搜索引擎类型的大全。里边有很多集合的案例。还做了命令分类，可直接调用。</p>
<p>Google 称之为google hacking</p>
<p>Bing 称之为 Bing hacking</p>
<p>baidu 也有自己的称呼</p>
<p>##用户信息 – 命令行 (依赖代理与网速)</p>
<h3 id="theharvester"><a href="#theharvester" class="headerlink" title="theharvester"></a>theharvester</h3><p>也可进行搜索二级域名、DNS记录、主机记录等, 利用 Proxychains 代理终端，进行 theharvester</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Proxychains theharvester -d sina.com -l 300 -b google</span><br><span class="line">-d 指定域名</span><br><span class="line">-b 指定搜索引擎API</span><br><span class="line">-l 限制搜索结果数量，不限制会一直进行搜索。（并发，默认50/次发送请求）</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">metagoofil</span><br><span class="line">metagoofil -d microsoft.com -t pdf -l 200 -o test -f 1.html</span><br><span class="line">-d 指定域名</span><br><span class="line">-t 文件类型</span><br><span class="line">-l 搜索条目，并不下载</span><br><span class="line">-o 保存文件目录</span><br><span class="line">-n 限制下载文件数量</span><br><span class="line">-f 输出文件，可利用html查看。</span><br><span class="line">建议先mkdir一个目录，这样就省去写-o选项。</span><br></pre></td></tr></table></figure>

<h2 id="MELTAGO-kali-十大安全工具之一"><a href="#MELTAGO-kali-十大安全工具之一" class="headerlink" title="MELTAGO kali-十大安全工具之一"></a>MELTAGO kali-十大安全工具之一</h2><p>首次登陆需要注册 - 集中化信息查询工具<br>新工作区中。AS号，DNS域名。<br>强大之处在于，提供一个信息，去搜集到其他的信息。<br>它会在图形化界面中显示出很多信息。根据这些信息。从一级扩展到二级，扩展到三级等<br>还可搜索文件、区域传输。<br>如果可以区域传输，那么就可以拿到所有域与DNS主机记录。<br>可通过路由信息查询地址块。还可继续查询地址位置。<br>可指定邮箱、域名、图片、名字、Facebook信息、电话。利用碎片信息进行拓展。</p>
<h3 id="其他途径"><a href="#其他途径" class="headerlink" title="其他途径"></a>其他途径</h3><p><a href="http://www.archive.org/web/web.php" target="_blank" rel="noopener">www.archive.org/web/web.php</a><br>此网站定期收集各个网站镜像。可以通过网站的历史信息，搜索有用的信息。</p>
<h3 id="制定个人专属密码字典"><a href="#制定个人专属密码字典" class="headerlink" title="制定个人专属密码字典"></a>制定个人专属密码字典</h3><p>基于传统与穷举式的破解较为长，一般为使用个人信息来定制字典。<br>Common User Password Profiler (CUPP) 密码生成 会收集到个人的信息后，自动生成一个密码字典。没有包含在Kali中<br>python cupp.py -i //引导支持</p>
<h3 id="Metadate-（源数据）"><a href="#Metadate-（源数据）" class="headerlink" title="Metadate （源数据）"></a>Metadate （源数据）</h3><p>图片中所带的经纬度、设备型号等详细信息，称之为Exif信息。<br>kali中自带 Exif 提取工具。命令行执行<br>exiftool [图片名] 即可查看<br>大部分上传时，都会被抹去此信息。<br>Foca<br>可以查询多种文件的源数据。PDF、Doc、pnp等</p>
<h2 id="Recon-NG-（信息收集框架）"><a href="#Recon-NG-（信息收集框架）" class="headerlink" title="Recon-NG （信息收集框架）"></a>Recon-NG （信息收集框架）</h2><p>全特性Web侦查框架 — 一种被动信息收集框架。<br>框架:一般为各种工具的综合型总称。<br>Web信息搜索框架<br>命令格式与msf⼀致<br>基于python开发<br>使⽤⽅法：<br>•    模块 (使用模块)<br>•    数据库 (自动存储，结构化数据)<br>•    报告 (可直接生成报告)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">~$ recon-ng</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    _/_/_/    _/_/_/_/    _/_/_/    _/_/_/    _/      _/            _/      _/    _/_/_/</span><br><span class="line">   _/    _/  _/        _/        _/      _/  _/_/    _/            _/_/    _/  _/</span><br><span class="line">  _/_/_/    _/_/_/    _/        _/      _/  _/  _/  _/  _/_/_/_/  _/  _/  _/  _/  _/_/_/</span><br><span class="line"> _/    _/  _/        _/        _/      _/  _/    _/_/            _/    _/_/  _/      _/</span><br><span class="line">_/    _/  _/_/_/_/    _/_/_/    _/_/_/    _/      _/            _/      _/    _/_/_/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                                          /\</span><br><span class="line">                                         / \\ /\</span><br><span class="line">        Sponsored by...           /\  /\/  \\V  \/\</span><br><span class="line">                                 / \\/ // \\\\\ \\ \/\</span><br><span class="line">                                // // BLACK HILLS \/ \\</span><br><span class="line">                               www.blackhillsinfosec.com</span><br><span class="line"></span><br><span class="line">                      [recon-ng v4.9.3, Tim Tomes (@LaNMaSteR53)]</span><br><span class="line"></span><br><span class="line">[75] Recon modules</span><br><span class="line">[8]  Reporting modules</span><br><span class="line">[2]  Import modules</span><br><span class="line">[2]  Exploitation modules</span><br><span class="line">[2]  Discovery modules</span><br><span class="line"></span><br><span class="line">[recon-ng][default] &gt; help</span><br><span class="line"></span><br><span class="line">Commands (type [help|?] &lt;topic&gt;):</span><br><span class="line">---------------------------------</span><br><span class="line">add             Adds records to the database        //手动插入数据</span><br><span class="line">back            Exits the current context           //back可以返回根命令层</span><br><span class="line">delete          Deletes records from the database</span><br><span class="line">exit            Exits the framework</span><br><span class="line">help            Displays this menu</span><br><span class="line">keys            Manages framework API keys          //除了调用搜索引擎，还可调用各个网站的API。</span><br><span class="line">load            Loads specified module              //使用load，添加自己便携的模块。</span><br><span class="line">pdb             Starts a Python Debugger session    //pdb为调试本地添加的模块，使用Python查找Debug。</span><br><span class="line">query           Queries the database</span><br><span class="line">record          Records commands to a resource file //记录命令，生成resource文件。-r调用的就是此文件</span><br><span class="line">reload          Reloads all modules                 //模块使用异常，或被修改。可以使用此命令查看。</span><br><span class="line">resource        Executes commands from a resource file      //再框架的命令提示符下，调用文件。</span><br><span class="line">search          Searches available modules          //找不到模块，可以查找一下。search google，会显示出关键字有关的模块。</span><br><span class="line">set             Sets module options                 //set 设置选项</span><br><span class="line">shell           Executes shell commands             //shell ls  在框架下执行shell命令</span><br><span class="line">show            Shows various framework items       //显示当前框架的各种信息，show option,模块下也可以使用。与msf类似。</span><br><span class="line">snapshots       Manages workspace snapshots         //快照，创建当前状态的快照。snapshots 两下Tab后查看二级命令。take 命令会将当前时间以名字命名当前快照。 恢复使用</span><br><span class="line">spool           Spools output to a file             //划分资源池，并可导出。</span><br><span class="line">unset           Unsets module options               //删除配置</span><br><span class="line">use             Loads specified module              //使用模块</span><br><span class="line">workspaces      Manages workspaces                  //workspaces select [工作区] 即可进行工作区切换</span><br><span class="line"></span><br><span class="line">[recon-ng][default] &gt; //默认命令提示，以此为根。</span><br></pre></td></tr></table></figure>

<h3 id="命令帮助解释"><a href="#命令帮助解释" class="headerlink" title="命令帮助解释"></a>命令帮助解释</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ recon-ng -h</span><br><span class="line">usage: recon-ng [-h] [-v] [-w workspace] [-r filename] [--no-check]</span><br><span class="line">                [--no-analytics]</span><br><span class="line"></span><br><span class="line">recon-ng - Tim Tomes (@LaNMaSteR53) tjt1980[at]gmail.com</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help      show this help message and exit</span><br><span class="line">  -v, --version   show program&apos;s version number and exit</span><br><span class="line">  -w workspace    load/create a workspace               //工作区，可以各个目标设置不同的工作区</span><br><span class="line">  -r filename     load commands from a resource file    //可以将框架下的命令，保存下来，-r读取命令。可以免去重复操作。</span><br><span class="line">  --no-check      disable version check     //默认情况开启会进行版本检查，进入带次命令，会不检查版本更新。</span><br><span class="line">  --no-analytics  disable analytics reporting  //报告模块。每次启动都会进行检查。带此命令启动可不检查。</span><br></pre></td></tr></table></figure>

<p>事例：<br>创建工作区</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line">$ recon-ng -w sina</span><br><span class="line"></span><br><span class="line">    _/_/_/    _/_/_/_/    _/_/_/    _/_/_/    _/      _/            _/      _/    _/_/_/</span><br><span class="line">   _/    _/  _/        _/        _/      _/  _/_/    _/            _/_/    _/  _/</span><br><span class="line">  _/_/_/    _/_/_/    _/        _/      _/  _/  _/  _/  _/_/_/_/  _/  _/  _/  _/  _/_/_/</span><br><span class="line"> _/    _/  _/        _/        _/      _/  _/    _/_/            _/    _/_/  _/      _/</span><br><span class="line">_/    _/  _/_/_/_/    _/_/_/    _/_/_/    _/      _/            _/      _/    _/_/_/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                                          /\</span><br><span class="line">                                         / \\ /\</span><br><span class="line">        Sponsored by...           /\  /\/  \\V  \/\</span><br><span class="line">                                 / \\/ // \\\\\ \\ \/\</span><br><span class="line">                                // // BLACK HILLS \/ \\</span><br><span class="line">                               www.blackhillsinfosec.com</span><br><span class="line"></span><br><span class="line">                      [recon-ng v4.9.3, Tim Tomes (@LaNMaSteR53)]</span><br><span class="line"></span><br><span class="line">[75] Recon modules</span><br><span class="line">[8]  Reporting modules</span><br><span class="line">[2]  Import modules</span><br><span class="line">[2]  Exploitation modules</span><br><span class="line">[2]  Discovery modules</span><br><span class="line"></span><br><span class="line">[recon-ng][sina] &gt;workspaces list   //显示工作区，若不知敲什么，两下Tab可显示子命令。</span><br><span class="line"></span><br><span class="line">添加API</span><br><span class="line">[recon-ng][sina] &gt; keys add</span><br><span class="line">bing_api         censysio_id      flickr_api       github_api       google_cse       ipinfodb_api     jigsaw_password  pwnedlist_api    pwnedlist_secret twitter_api</span><br><span class="line">builtwith_api    censysio_secret  fullcontact_api  google_api       hashes_api       jigsaw_api       jigsaw_username  pwnedlist_iv     shodan_api       twitter_secret</span><br><span class="line"></span><br><span class="line">[recon-ng][sina] &gt; keys add shodan_api xxxxxxxxxxxxxxxxxxxxxxx</span><br><span class="line">[*] Key &apos;shodan_api&apos; added.</span><br><span class="line"></span><br><span class="line">查看API</span><br><span class="line">[recon-ng][sina] &gt; keys list</span><br><span class="line"></span><br><span class="line">  +-----------------------------------------------------+</span><br><span class="line">  |       Name       |              Value               |</span><br><span class="line">  +-----------------------------------------------------+</span><br><span class="line">  | bing_api         |                                  |</span><br><span class="line">  | builtwith_api    |                                  |</span><br><span class="line">  | censysio_id      |                                  |</span><br><span class="line">  | censysio_secret  |                                  |</span><br><span class="line">  | flickr_api       |                                  |</span><br><span class="line">  | fullcontact_api  |                                  |</span><br><span class="line">  | github_api       |                                  |</span><br><span class="line">  | google_api       |                                  |</span><br><span class="line">  | google_cse       |                                  |</span><br><span class="line">  | hashes_api       |                                  |</span><br><span class="line">  | ipinfodb_api     |                                  |</span><br><span class="line">  | jigsaw_api       |                                  |</span><br><span class="line">  | jigsaw_password  |                                  |</span><br><span class="line">  | jigsaw_username  |                                  |</span><br><span class="line">  | pwnedlist_api    |                                  |</span><br><span class="line">  | pwnedlist_iv     |                                  |</span><br><span class="line">  | pwnedlist_secret |                                  |</span><br><span class="line">  | shodan_api       |      xxxxxxxxxxxxxxxxxxxxxxx     |</span><br><span class="line">  | twitter_api      |                                  |</span><br><span class="line">  | twitter_secret   |                                  |</span><br><span class="line">  +-----------------------------------------------------+</span><br><span class="line"></span><br><span class="line">[recon-ng][sina] &gt;</span><br><span class="line"></span><br><span class="line">删除API</span><br><span class="line">[recon-ng][sina] &gt; keys add google_api xxxxxxxxxxxxxxxxxxxxxx</span><br><span class="line">[*] Key &apos;google_api&apos; added.</span><br><span class="line">[recon-ng][sina] &gt; keys list</span><br><span class="line"></span><br><span class="line">  +-----------------------------------------------------+</span><br><span class="line">  |       Name       |              Value               |</span><br><span class="line">  +-----------------------------------------------------+</span><br><span class="line">  | bing_api         |                                  |</span><br><span class="line">  | builtwith_api    |                                  |</span><br><span class="line">  | censysio_id      |                                  |</span><br><span class="line">  | censysio_secret  |                                  |</span><br><span class="line">  | flickr_api       |                                  |</span><br><span class="line">  | fullcontact_api  |                                  |</span><br><span class="line">  | github_api       |                                  |</span><br><span class="line">  | google_api       | xxxxxxxxxxxxxxxxxxxxxx           |</span><br><span class="line">  | google_cse       |                                  |</span><br><span class="line">  | hashes_api       |                                  |</span><br><span class="line">  | ipinfodb_api     |                                  |</span><br><span class="line">  | jigsaw_api       |                                  |</span><br><span class="line">  | jigsaw_password  |                                  |</span><br><span class="line">  | jigsaw_username  |                                  |</span><br><span class="line">  | pwnedlist_api    |                                  |</span><br><span class="line">  | pwnedlist_iv     |                                  |</span><br><span class="line">  | pwnedlist_secret |                                  |</span><br><span class="line">  | shodan_api       |  				   |</span><br><span class="line">  | twitter_api      |                                  |</span><br><span class="line">  | twitter_secret   |                                  |</span><br><span class="line">  +-----------------------------------------------------+</span><br><span class="line"></span><br><span class="line">[recon-ng][sina] &gt; keys delete twitter_api</span><br><span class="line">[*] Key &apos;twitter_api&apos; deleted.</span><br><span class="line">[recon-ng][sina] &gt;</span><br><span class="line"></span><br><span class="line">show optionns</span><br><span class="line">告知当前那些选项，可以进行设置。</span><br><span class="line">根下进行show option</span><br><span class="line"></span><br><span class="line">[recon-ng][sina] &gt; show options</span><br><span class="line"></span><br><span class="line">  Name        Current Value  Required  Description</span><br><span class="line">  ----------  -------------  --------  -----------</span><br><span class="line">  NAMESERVER  8.8.8.8        yes       nameserver for DNS interrogation     //不使用操作系统DNS</span><br><span class="line">  PROXY                      no        proxy server (address:port)          //支持代理；设置方式 set PROXY 127.0.0.1:1086</span><br><span class="line">  THREADS     10             yes       number of threads (where applicable) //并发线程</span><br><span class="line">  TIMEOUT     10             yes       socket timeout (seconds)             //超时事件</span><br><span class="line">  USER-AGENT  Recon-ng/v4    yes       user-agent string                    //扫描器会带标识包头，通过USER-AGENT携带，服务器会记录日志。针对请求关键字，即可封杀。故此可以伪装，所以特征值可在此设置。可以将 火狐、Chrom的请求复制到此。 设置方法</span><br><span class="line">  VERBOSITY   1              yes       verbosity level (0 = minimal, 1 = verbose, 2 = debug)</span><br><span class="line"></span><br><span class="line">[recon-ng][sina] &gt;</span><br></pre></td></tr></table></figure>

<p>USER-AGENT<br>USER-AGENT Recon-ng/v4 yes user-agent string<br>扫描器会带标识包头，通过USER-AGENT携带，服务器会记录日志。针对请求关键字，即可封杀。故此可以伪装，所以特征值可在此设置。可以将 火狐、Chrom的请求复制到此。<br>设置方法<br>添加<br>set USER-AGENT “Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_2) AppleWebKit/604.4.7 (KHTML, like Gecko) Version/11.0.2 Safari/604.4.7”</p>
<p>取消<br>unset USER-AGENT    //即可删除<br>show</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">[recon-ng][sina] &gt; show</span><br><span class="line">banner          contacts        dashboard       hosts           leaks           modules         options         profiles        repositories    vulnerabilities</span><br><span class="line">companies       credentials     domains         keys            locations       netblocks       ports           pushpins        schema          workspaces</span><br><span class="line">[recon-ng][sina] &gt; show schema //显示数据库表</span><br><span class="line">模块使用</span><br><span class="line">[recon-ng][sina] &gt; use</span><br><span class="line">discovery/info_disclosure/cache_snoop              recon/domains-contacts/pgp_search                  recon/domains-vulnerabilities/punkspider           recon/netblocks-ports/censysio</span><br><span class="line">discovery/info_disclosure/interesting_files        recon/domains-contacts/whois_pocs                  recon/domains-vulnerabilities/xssed                recon/ports-hosts/migrate_ports</span><br><span class="line">exploitation/injection/command_injector            recon/domains-credentials/pwnedlist/account_creds  recon/domains-vulnerabilities/xssposed             recon/profiles-contacts/dev_diver</span><br><span class="line">exploitation/injection/xpath_bruter                recon/domains-credentials/pwnedlist/api_usage      recon/hosts-domains/migrate_hosts                  recon/profiles-contacts/github_users</span><br><span class="line">import/csv_file                                    recon/domains-credentials/pwnedlist/domain_creds   recon/hosts-hosts/bing_ip                          recon/profiles-profiles/namechk</span><br><span class="line">import/list                                        recon/domains-credentials/pwnedlist/domain_ispwned recon/hosts-hosts/freegeoip                        recon/profiles-profiles/profiler</span><br><span class="line">recon/companies-contacts/bing_linkedin_cache       recon/domains-credentials/pwnedlist/leak_lookup    recon/hosts-hosts/ipinfodb                         recon/profiles-profiles/twitter_mentioned</span><br><span class="line">recon/companies-contacts/jigsaw/point_usage        recon/domains-credentials/pwnedlist/leaks_dump     recon/hosts-hosts/resolve                          recon/profiles-profiles/twitter_mentions</span><br><span class="line">recon/companies-contacts/jigsaw/purchase_contact   recon/domains-domains/brute_suffix                 recon/hosts-hosts/reverse_resolve                  recon/profiles-repositories/github_repos</span><br><span class="line">recon/companies-contacts/jigsaw/search_contacts    recon/domains-hosts/bing_domain_api                recon/hosts-hosts/ssltools                         recon/repositories-profiles/github_commits</span><br><span class="line">recon/companies-multi/github_miner                 recon/domains-hosts/bing_domain_web                recon/hosts-locations/migrate_hosts                recon/repositories-vulnerabilities/gists_search</span><br><span class="line">recon/companies-multi/whois_miner                  recon/domains-hosts/brute_hosts                    recon/hosts-ports/shodan_ip                        recon/repositories-vulnerabilities/github_dorks</span><br><span class="line">recon/contacts-contacts/mailtester                 recon/domains-hosts/builtwith                      recon/locations-locations/geocode                  reporting/csv</span><br><span class="line">recon/contacts-contacts/mangle                     recon/domains-hosts/certificate_transparency       recon/locations-locations/reverse_geocode          reporting/html</span><br><span class="line">recon/contacts-contacts/unmangle                   recon/domains-hosts/google_site_api                recon/locations-pushpins/flickr                    reporting/json</span><br><span class="line">recon/contacts-credentials/hibp_breach             recon/domains-hosts/google_site_web                recon/locations-pushpins/picasa                    reporting/list</span><br><span class="line">recon/contacts-credentials/hibp_paste              recon/domains-hosts/hackertarget                   recon/locations-pushpins/shodan                    reporting/proxifier</span><br><span class="line">recon/contacts-domains/migrate_contacts            recon/domains-hosts/mx_spf_ip                      recon/locations-pushpins/twitter                   reporting/pushpin</span><br><span class="line">recon/contacts-profiles/fullcontact                recon/domains-hosts/netcraft                       recon/locations-pushpins/youtube                   reporting/xlsx</span><br><span class="line">recon/credentials-credentials/adobe                recon/domains-hosts/shodan_hostname                recon/netblocks-companies/whois_orgs               reporting/xml</span><br><span class="line">recon/credentials-credentials/bozocrack            recon/domains-hosts/ssl_san                        recon/netblocks-hosts/reverse_resolve</span><br><span class="line">recon/credentials-credentials/hashes_org           recon/domains-hosts/threatcrowd                    recon/netblocks-hosts/shodan_net</span><br><span class="line">recon/domains-contacts/metacrawler                 recon/domains-vulnerabilities/ghdb                 recon/netblocks-ports/census_2012</span><br><span class="line">[recon-ng][sina] &gt; use [Tab出的模块名]</span><br><span class="line"></span><br><span class="line">recon/domains-hosts/google_site_web 模块 (需设置代理)</span><br><span class="line">[recon-ng][sina] &gt; use recon/domains-hosts/google_site_web</span><br><span class="line">[recon-ng][sina][google_site_web] &gt; show options</span><br><span class="line"></span><br><span class="line">  Name    Current Value  Required  Description</span><br><span class="line">  ------  -------------  --------  -----------</span><br><span class="line">  SOURCE  default        yes       source of input (see &apos;show info&apos; for details)</span><br><span class="line"></span><br><span class="line">[recon-ng][sina][google_site_web] &gt; show info</span><br><span class="line"></span><br><span class="line">      Name: Google Hostname Enumerator</span><br><span class="line">      Path: modules/recon/domains-hosts/google_site_web.py</span><br><span class="line">    Author: Tim Tomes (@LaNMaSteR53)</span><br><span class="line"></span><br><span class="line">Description:</span><br><span class="line">  Harvests hosts from Google.com by using the &apos;site&apos; search operator. Updates the &apos;hosts&apos; table with the results.   //使用google 搜索你设置的地址，写入到hosts表中</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  Name    Current Value  Required  Description</span><br><span class="line">  ------  -------------  --------  -----------</span><br><span class="line">  SOURCE  default        yes       source of input (see &apos;show info&apos; for details)</span><br><span class="line"></span><br><span class="line">Source Options:</span><br><span class="line">  default        SELECT DISTINCT domain FROM domains WHERE domain IS NOT NULL</span><br><span class="line">  &lt;string&gt;       string representing a single input</span><br><span class="line">  &lt;path&gt;         path to a file containing a list of inputs</span><br><span class="line">  query &lt;sql&gt;    database query returning one column of inputs</span><br><span class="line"></span><br><span class="line">[recon-ng][sina][google_site_web] &gt; set SOURCE sina.com  //设置目标</span><br><span class="line">SOURCE =&gt; sina.com</span><br><span class="line">[recon-ng][sina][google_site_web] &gt;run  //执行模块即可。</span><br></pre></td></tr></table></figure>

<p>查询的两种方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[recon-ng][sina][google_site_web] &gt;show hosts  //查看。</span><br><span class="line">[recon-ng][sina][google_site_web] &gt;query select * from hosts  //查看。</span><br><span class="line"></span><br><span class="line">[recon-ng][sina][google_site_web] &gt;query select * from hosts where host like &apos;%www%&apos; </span><br><span class="line">//数据较多时，进行复杂搜索。搜查 hosts 表中 host 列中包含www的信息。</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line">recon/domains-hosts/brute_hosts 模块 (域名爆破)</span><br><span class="line">[recon-ng][default] &gt; use recon/domains-hosts/brute_hosts</span><br><span class="line">[recon-ng][default][brute_hosts] &gt; show options</span><br><span class="line"></span><br><span class="line">  Name      Current Value                                                Required  Description</span><br><span class="line">  --------  -------------                                                --------  -----------</span><br><span class="line">  SOURCE    default                                                      yes       source of input (see &apos;show info&apos; for details)</span><br><span class="line">  WORDLIST  /usr/local/Cellar/recon-ng/4.9.3/libexec/data/hostnames.txt  yes       path to hostname wordlist</span><br><span class="line"></span><br><span class="line">[recon-ng][default][brute_hosts] &gt;  //可以看到 设置两个变量 SOURCE、WORDLIST</span><br><span class="line">[recon-ng][default][brute_hosts] &gt;  set SOURCE sina.com</span><br><span class="line">[recon-ng][default][brute_hosts] &gt;  set WORDLIST [绝对路径或相对路径]        //自定义爆破字典</span><br><span class="line"></span><br><span class="line">recon/hosts-hosts/resolve 模块 （域名解析IP 注用法更改）</span><br><span class="line"></span><br><span class="line">[recon-ng][default][brute_hosts] &gt; use recon/hosts-hosts/resolve</span><br><span class="line">[recon-ng][default][resolve] &gt; show options</span><br><span class="line"></span><br><span class="line">  Name    Current Value  Required  Description</span><br><span class="line">  ------  -------------  --------  -----------</span><br><span class="line">  SOURCE  default        yes       source of input (see &apos;show info&apos; for details)</span><br><span class="line"></span><br><span class="line">[recon-ng][default][resolve] &gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[recon-ng][default][resolve] &gt; show info        //不知道如何使用可以查看此信息。</span><br><span class="line"></span><br><span class="line">      Name: Hostname Resolver</span><br><span class="line">      Path: modules/recon/hosts-hosts/resolve.py</span><br><span class="line">    Author: Tim Tomes (@LaNMaSteR53)</span><br><span class="line"></span><br><span class="line">Description:</span><br><span class="line">  Resolves the IP address for a host. Updates the &apos;hosts&apos; table with the results.</span><br><span class="line">  //解析IP地址到主机，并将数据更新到 hosts 表中</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  Name    Current Value  Required  Description</span><br><span class="line">  ------  -------------  --------  -----------</span><br><span class="line">  SOURCE  default        yes       source of input (see &apos;show info&apos; for details)</span><br><span class="line"></span><br><span class="line">Source Options:</span><br><span class="line">  default        SELECT DISTINCT host FROM hosts WHERE host IS NOT NULL AND ip_address IS NULL</span><br><span class="line">  &lt;string&gt;       string representing a single input             //指定一个字段</span><br><span class="line">  &lt;path&gt;         path to a file containing a list of inputs     //从文件读取</span><br><span class="line">  query &lt;sql&gt;    database query returning one column of inputs  //对 query 查询语句结果进行解析</span><br><span class="line"></span><br><span class="line">Comments:</span><br><span class="line">  * Note: Nameserver must be in IP form.</span><br><span class="line"></span><br><span class="line">[recon-ng][default][resolve] &gt; set SOURCE query select * from hosts   </span><br><span class="line">SOURCE =&gt; select * from hosts</span><br><span class="line">//查询hosts表中的信息来进行解析。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[recon-ng][default][resolve] &gt;set SOURCE query select * from hosts where host like &apos;%sina%&apos; </span><br><span class="line">//也可进行Sql语句进行详细查询。如此命令，</span><br><span class="line"></span><br><span class="line">[recon-ng][default][resolve] &gt; run      //执行后即可在 hosts表中查看到。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">单个域名，可以对应多个IP地址。故会在现有的hosts表的行数上，进行增加。</span><br><span class="line">信息导出</span><br><span class="line">信息收集完成后，可以利用report 模块进行信息导出。导出格式、使用方式如下</span><br><span class="line">CREATOR 报告人</span><br><span class="line">CUSTOMER 用户</span><br><span class="line">FILENAME 生成文件位置</span><br><span class="line">SANITIZE 是否对敏感信息添加保护</span><br><span class="line">[recon-ng][default] &gt; search report</span><br><span class="line">[*] Searching for &apos;report&apos;...</span><br><span class="line"></span><br><span class="line">  Reporting</span><br><span class="line">  ---------</span><br><span class="line">    reporting/csv</span><br><span class="line">    reporting/html</span><br><span class="line">    reporting/json</span><br><span class="line">    reporting/list</span><br><span class="line">    reporting/proxifier</span><br><span class="line">    reporting/pushpin</span><br><span class="line">    reporting/xlsx</span><br><span class="line">    reporting/xml</span><br><span class="line"></span><br><span class="line">[recon-ng][default] &gt; use reporting/html</span><br><span class="line">[recon-ng][default][html] &gt; show options</span><br><span class="line"></span><br><span class="line">  Name      Current Value                                           Required  Description</span><br><span class="line">  --------  -------------                                           --------  -----------</span><br><span class="line">  CREATOR                                                           yes       creator name for the report footer</span><br><span class="line">  CUSTOMER                                                          yes       customer name for the report header</span><br><span class="line">  FILENAME  /Users/aiden/.recon-ng/workspaces/default/results.html  yes       path and filename for report output</span><br><span class="line">  SANITIZE  True                                                    yes       mask sensitive data in the report</span><br><span class="line">  </span><br><span class="line">[recon-ng][default][html] &gt; show info</span><br><span class="line"></span><br><span class="line">      Name: HTML Report Generator</span><br><span class="line">      Path: modules/reporting/html.py</span><br><span class="line">    Author: Tim Tomes (@LaNMaSteR53)</span><br><span class="line"></span><br><span class="line">Description:</span><br><span class="line">  Creates a HTML report.</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  Name      Current Value                                           Required  Description</span><br><span class="line">  --------  -------------                                           --------  -----------</span><br><span class="line">  CREATOR                                                           yes       creator name for the report footer</span><br><span class="line">  CUSTOMER                                                          yes       customer name for the report header</span><br><span class="line">  FILENAME  /Users/xxxxx/.recon-ng/workspaces/default/results.html  yes       path and filename for report output</span><br><span class="line">  SANITIZE  True                                                    yes       mask sensitive data in the report</span><br><span class="line"></span><br><span class="line">[recon-ng][default][html] &gt;run  //运行后生成文件。</span><br></pre></td></tr></table></figure>
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        
          
        
        <div class="post-tags">
          
            <a href="/tags/渗透测试/" rel="tag"># 渗透测试</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/10/05/网络基础/" rel="next" title="网络基础">
                <i class="fa fa-chevron-left"></i> 网络基础
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/11/12/Mac-Install-Pygame/" rel="prev" title="记一次 Mac 安装 Pygame 报错的故事">
                记一次 Mac 安装 Pygame 报错的故事 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Aiden</p>
              <div class="site-description motion-element" itemprop="description">一只安全狗的苦逼日常</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">tags</span>
                  
                </div>
              
            </nav>
          

          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#DNS"><span class="nav-number">1.</span> <span class="nav-text">DNS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#nslookup-命令"><span class="nav-number">1.1.</span> <span class="nav-text">nslookup 命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#邮件记录解析"><span class="nav-number">1.1.1.</span> <span class="nav-text">邮件记录解析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#NS记录查询"><span class="nav-number">1.1.2.</span> <span class="nav-text">NS记录查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#PTR反向解析"><span class="nav-number">1.1.3.</span> <span class="nav-text">PTR反向解析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#指定DNS服务器"><span class="nav-number">1.1.4.</span> <span class="nav-text">指定DNS服务器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#反向查询"><span class="nav-number">1.1.5.</span> <span class="nav-text">反向查询</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DIG命令"><span class="nav-number">1.2.</span> <span class="nav-text">DIG命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS追踪"><span class="nav-number">1.3.</span> <span class="nav-text">DNS追踪:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DNS区域传输"><span class="nav-number">2.</span> <span class="nav-text">DNS区域传输</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DNS字典爆破"><span class="nav-number">3.</span> <span class="nav-text">DNS字典爆破</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#fierce-工具-DNS爆破工具"><span class="nav-number">3.1.</span> <span class="nav-text">fierce 工具 - DNS爆破工具</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dnsrecon-DNS爆破工具"><span class="nav-number">3.2.</span> <span class="nav-text">dnsrecon  - DNS爆破工具</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS注册信息"><span class="nav-number">3.3.</span> <span class="nav-text">DNS注册信息</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#whois-命令"><span class="nav-number">3.3.1.</span> <span class="nav-text">whois 命令</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SHODAN"><span class="nav-number">4.</span> <span class="nav-text">SHODAN</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Google-hack"><span class="nav-number">5.</span> <span class="nav-text">Google hack</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#搜索语法"><span class="nav-number">5.1.</span> <span class="nav-text">搜索语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实例"><span class="nav-number">5.2.</span> <span class="nav-text">实例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Google-Hacking-Database（GHDB）"><span class="nav-number">5.3.</span> <span class="nav-text">Google Hacking Database（GHDB）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#theharvester"><span class="nav-number">5.4.</span> <span class="nav-text">theharvester</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MELTAGO-kali-十大安全工具之一"><span class="nav-number">6.</span> <span class="nav-text">MELTAGO kali-十大安全工具之一</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#其他途径"><span class="nav-number">6.1.</span> <span class="nav-text">其他途径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#制定个人专属密码字典"><span class="nav-number">6.2.</span> <span class="nav-text">制定个人专属密码字典</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Metadate-（源数据）"><span class="nav-number">6.3.</span> <span class="nav-text">Metadate （源数据）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Recon-NG-（信息收集框架）"><span class="nav-number">7.</span> <span class="nav-text">Recon-NG （信息收集框架）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#命令帮助解释"><span class="nav-number">7.1.</span> <span class="nav-text">命令帮助解释</span></a></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Aiden</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.1.2</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.2"></script>

  <script src="/js/motion.js?v=7.1.2"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.1.2"></script>



  
  <script src="/js/scrollspy.js?v=7.1.2"></script>
<script src="/js/post-details.js?v=7.1.2"></script>



  


  <script src="/js/next-boot.js?v=7.1.2"></script>


  

  

  

  


  


  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
